---
title: "Guide to the `edgyR` Images"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Guide to the `edgyR` Images}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

There are three `edgyR` images:

- edgyr-rstats: `docker pull znmeb/edgyr-rstats`
- edgyr-base: `docker pull znmeb/edgyr-base`
- edgyr-ml: `docker pull znmeb/edgyr-ml`

The following table lists the main features of the images:
```{r echo=FALSE}
features <- tibble::tribble(
  ~"Feature", ~"edgyr-rstats", ~"edgyr-base", ~"edgyr-ml",
  "Image size", "4.13 GB", "3.66 GB", "6.78 GB",
  "Base OS", "Ubuntu 18.04 LTS", "L4T 18.04", "L4T 18.04",
  "NVIDIA software", "No", "Yes", "Yes",
  "R 4.0.2 / RStudio Server 1.3.959", "Yes", "Yes", "Yes",
  "'R' and 'RStudio' source", "Yes", "No", "No",
  "'r-reticulate' Python3 virtualenv", "Yes", "Yes", "Yes",
  " --- numpy", "Yes", "Yes", "Yes",
  " --- SymPy", "Yes", "Yes", "Yes",
  " --- PyTorch 1.5", "No", "No", "Yes",
  " --- TensorFlow 1.15", "No", "No", "Yes",
  " --- JupyterLab 2.1.1", "No", "No", "Yes",
  "R user library", "Yes", "Yes", "Yes",
  " --- caracas", "Yes", "Yes", "Yes",
  " --- data.table", "Yes", "Yes", "Yes",
  " --- reticulate", "Yes", "Yes", "Yes",
  " --- knitr/rmarkdown/tinytex", "Yes", "Yes", "Yes",
  " --- devtools/pkgdown/shiny", "No", "No", "Yes",
  " --- rTorch", "No", "No", "Yes",
  " --- keras", "No", "No", "Yes",
  " --- JupyterLab R kernel", "No", "No", "Yes",
)
knitr::kable(features)
```

How to choose? If you have a non-NVIDIA `arm64` system, the only image that will
work for you is `edgyr-rstats`. This is a full `arm64` Ubuntu 18.04 LTS "Bionic
Beaver" system with R 4.0.2 and RStudio Server 1.3.959 built from source. So it
should run on any `arm64` system, although I only test on NVIDIA Jetson
hardware.

If you have a Jetson and don't mind installing packages when needed,
`edgyr-base` is the smallest. It's smaller than `edgyr-rstats` mostly because
it doesn't have the source and build directories left over from the R and
RStudio Server installs.

But if you have a Jetson and the free disk space I recommend going with
`edgyr-ml`. It's based on the NVIDIA
[L4T ML](https://ngc.nvidia.com/catalog/containers/nvidia:l4t-ml)
image, which includes JupyterLab, PyTorch, TensorFlow and the lower-level
Python machine learning stack as well. It also has the R `devtools`,
`pkgdown` and `miniUI` packages; `miniUI` brings in `shiny`, so you'll have
that too.
